---
import { Icon } from "astro-icon";

interface Props {
  title: string;
  group?: string;
}

const { title, group } = Astro.props;

// Draw random string and assign as id
const id = (Math.random() + 1).toString(36).substring(7);
const accordionAttribute = group ? `data-accordion="${group}"` : "";
---

<div class="rounded-lg shadow-sm max-w-xl mb-5 border">
  <button
    class="flex justify-between items-center gap-x-3 px-4 py-3 text-start sm:py-4 sm:gap-x-4 w-full"
    data-target={id}
    data-toggle="collapse"
    aria-expanded="false"
    aria-controls={id}>
    <h3 class="text-base font-bold mb-0 sm:text-lg w-full">{title}</h3>
    <Icon name="ic:outline-arrow-forward-ios" class="transition-transform w-6 h-6 duration-300 collapse-icon" />
  </button>

  <div id={id} class="h-0 overflow-hidden transition-all" data-accordion={group}>
    <div class="px-4 pb-3">
      <slot />
    </div>
  </div>
</div>
