---
import { Icon } from "astro-icon";

interface Props {
  title: string;
}

const { title } = Astro.props;

// Draw random string and assign as id
const id = (Math.random() + 1).toString(36).substring(7);
---

<li class="group relative">
  <a
    class="flex justify-between items-center gap-x-1 w-full after:hidden [&_svg]:aria-expanded:-rotate-90"
    data-target={id}
    data-toggle="collapse"
    aria-expanded="false"
    aria-controls={id}
    role="button">
    <!-- <span class="text-base font-bold mb-0 sm:text-lg w-full">{title}</span> -->
    {title}
    <Icon
      name="ic:outline-arrow-forward-ios"
      class="transition-transform w-4 h-4 duration-300 collapse-icon rotate-90"
    />
  </a>

  <div id={id} class="h-0 overflow-hidden transition-all lg:group-hover:h-auto lg:absolute lg:top-full lg:-left-5">
    <ul
      class="p-2 flex flex-col gap-2 lg:gap-4 lg:px-5 lg:py-3 lg:shadow-2xl [&_li]:whitespace-nowrap mt-3 lg:bg-white border group-hover:border-zinc-300 rounded">
      <slot />
    </ul>
  </div>
</li>
